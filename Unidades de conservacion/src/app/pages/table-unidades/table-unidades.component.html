<form [formGroup]="unidadesForm">
  <table class="table table-striped table-hover ">
      <thead>
        <tr class="text-center">
          <th scope="col">Orden</th>
          <th scope="col">Código</th>
          <th scope="col">Descripción</th>
          <th scope="col">Nivel documental</th>
          <th scope="col">Folios</th>
          <th scope="col">Contenedor de archivos</th>
          <th scope="col">Almacenamiento en archivo</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody >
        <tr class="text-center" *ngFor="let datos of datosTabla; let i = index"  >
          <th scope="row">{{i + 1}}</th>
          <td>
            <div *ngIf="!datos.edit">
              {{datos.codigo}}
            </div>
            <div *ngIf="datos.edit">
              <input type="text" class="form-control text-center" formControlName="codigo" maxlength="2">
            </div>
          </td>
          <td>
            <div *ngIf="!datos.edit">
              {{datos.descripcion}}
            </div>
            <div *ngIf="datos.edit">
              <input type="text" class="form-control text-center" formControlName="descripcion" >
            </div>
          </td>
          <td>
            <div *ngIf="!datos.edit">
              {{datos.nivel}}
            </div>
            <div *ngIf="datos.edit">
              <!-- <input type="text" class="form-control text-center"> -->
              <select class="form-select text-center" formControlName="nivel">
                <option>--Seleccione--</option>
                <option value="Subserie">Subserie</option>
                <option value="Tipología">Tipología</option>
              </select>
            </div>
            
          </td>
          <td>
            <div *ngIf="!datos.edit">
              {{datos.folios}}
            </div>
            <div *ngIf="datos.edit">
              <input  type="text" class="form-control text-center" *ngIf="datos.nivel == 'Subserie'" formControlName="folios" maxlength="3">
            </div>
          </td>
          <td>
            <i class="fa-solid fa-check text-success" *ngIf="datos.nivel == 'Subserie'"></i>
          </td>
          <td>
            <i class="fa-solid fa-check text-success" *ngIf="datos.nivel == 'Subserie'"></i>
            <i class="fa-solid fa-check text-success" *ngIf="datos.nivel == 'Tipología'"></i>
          </td>
          <td>
            <div *ngIf="!datos.edit">
              <button class="ms-3" type="submit">
                <i class="fa-solid fa-clock-rotate-left"></i>
              </button>
              <button class="ms-3" type="submit" *ngIf="!datos.asociated" (click)="editar(datos, datos.id)">
                <i  class="fa-solid fa-pen" ></i>
              </button>
              <button class="ms-3" type="submit" *ngIf="!datos.asociated">
                <i  class="fa-solid fa-trash" (click)="eliminar(datos,datos)"></i>
              </button>
            </div>
            <div *ngIf="datos.edit">
              <button class="ms-3" type="submit" >
                <i class="fa-solid fa-floppy-disk" (click)="guardar(datos)" ></i>
              </button>
              <button type="submit">
                <i class="fa-solid fa-xmark" (click)="close(datos)"></i>
              </button>
            </div>
        </tr>
        <tr *ngIf="mostrar">
          <th>
            
          </th>
          <td>
            <input type="text" class="form-control text-center" formControlName="codigo" maxlength="2" >
          </td>
          <td>
            <input type="text" class="form-control text-center" formControlName="descripcion"  >
          </td>
          <td>
            <select class="form-select text-center" formControlName="nivel">
              <option>--Seleccione--</option>
              <option value="Subserie">Subserie</option>
              <option value="Tipología">Tipología</option>
            </select>
          </td>
          <td>
            <input type="text" class="form-control text-center" formControlName="folios" maxlength="3">
          </td>
          <td>
            
          </td>
          <td>
            
          </td>
          <td>
            <div class="text-center">
              <button type="submit">
                <i class="fa-solid fa-floppy-disk" (click)="guardarNuevo()" ></i>
              </button>
              <button type="submit">
                <i class="fa-solid fa-xmark" (click)="cancel()"></i>
              </button>
            </div>
          </td>
        </tr>
        
        
      </tbody>
  </table>
  <button class="btn btn-primary" (click)="nuevo()">Nuevo</button>

</form>


  
